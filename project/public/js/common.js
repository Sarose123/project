jQuery(function(){jQuery.fn.loading=function(a){var opt={start:typeof a!='undefined'&&typeof a.start!='undefined'?a.start:0}
var that=this;var $that=jQuery(that);opt.start=Math.ceil((opt.start/10))*10;$that.addClass('loaing l_'+opt.start);var loading={obj:that,$obj:$that,prev:'l_'+opt.start,to:function(a){this.$obj.removeClass(this.prev);a=Math.ceil((a/10))*10;this.$obj.addClass('l_'+a);this.prev='l_'+a;},end:function(){this.to(100);this.$obj.removeClass('loaing '+this.prev);}}
return loading;};});jQuery(window).scroll(function(){jQuery('header').toggleClass('sticky-header',jQuery(this).scrollTop()>0);jQuery('.scroll-top').toggleClass('top-active',jQuery(this).scrollTop()>1080);});jQuery('.faq-header').click(function(){var faqTarget=jQuery(this).parent();faqTarget.toggleClass('faq-active');jQuery(this).parent().siblings().removeClass('faq-active');});jQuery('.mobile-button').click(function(){jQuery(this).toggleClass('clicked-button');jQuery('.menu').toggleClass('clicked-menu');});jQuery('.menu ul li a').click(function(){jQuery('.menu').removeClass('clicked-menu');jQuery('.mobile-button').removeClass('clicked-button');});jQuery(document).ready(function(){function resizeMe(){if(window.matchMedia('(min-width: 1024px)').matches){$formHeight=jQuery('.services .wrapper').height();jQuery('.sign-up-form, .log-in-form').height($formHeight);}if(window.matchMedia('(max-width: 1023px)').matches){jQuery('.log-in-link, .switch-in a, .remember, .log-in-main').click(function(){jQuery('.services form').removeClass('form-active');jQuery('.log-in-form').addClass('form-active');jQuery('.services .main-heading').hide();});jQuery('.sign-up-link, .switch-sign-up').click(function(){jQuery('.services form').removeClass('form-active');jQuery('.sign-up-form').addClass('form-active');jQuery('.services .main-heading').hide();});jQuery('.get-back').click(function(){jQuery('.services form').removeClass('form-active');jQuery('.services .main-heading').show();});jQuery('.lost-password').click(function(){jQuery('.services form').removeClass('form-active');jQuery('.lost-password-form').addClass('form-active');jQuery('.services .main-heading').hide();});jQuery('.menu li:first-child a').text('Home');}else{jQuery('.menu li:first-child a').text('Services');jQuery('.services .main-heading').css('display','block');}$width=jQuery('.product-image').not('.cd-cart .product-image').width();jQuery('.product-image').not('.cd-cart .product-image').height($width);}resizeMe();jQuery('.cupon-click p').eq(1).click(function(){var $cuponfield=jQuery('.cupon-click #cupon');if($cuponfield.is(':visible')){$cuponfield.slideUp(500);}else{$cuponfield.val('');$cuponfield.slideDown(500);}});jQuery('input#total-price').change(function(){jQuery('input#price_for_one').val(this.value);});jQuery('form.contact-form').on('submit',function(e){e.preventDefault();var form=this;var msg=form['msg'].value+'<br/> Order Number: '+form['order-num'].value;var check=[];var data={action:'send_mail',mail_to:'admin@ranking-articles.com',mail_from:is(form['mail'])?form['mail'].value:'',name:is(form['name'])?form['name'].value:'',subj:is(form['subj'])?form['subj'].value:'',msg:msg};if(data.mail_from==""){check.push('Mail Form');check_field_len(form['mail'],5);}if(data.name==""){check.push('Name');check_field_len(form['name']);}if(data.subj==""){check.push('Subject');check_field_len(form['subj']);}if(form['msg'].value==""){check.push('Message');check_field_len(form['msg']);}if(check.length>0){check=check.join(', ');swal("Oops...","Current fields is empty: "+check,'error');return;}jQuery.post('/wp-admin/admin-ajax.php',data,function(resp){resp=JSON.parse(resp);if(resp.status=='success'){jQuery('.contact-submit').val(resp.message);form.reset();}if(resp.status=='error'){jQuery('.contact-submit').val(resp.error);}setTimeout(function(){jQuery('.contact-submit').val('Send');},3000);});});jQuery('.placeholder textarea').on('blur',function(){if(this.value.length<=0){jQuery(this).removeClass('full');}else{jQuery(this).addClass('full');}});jQuery('.log-in-link, .switch-in a, .remember, .log-in-main').click(function(){jQuery('.services form').removeClass('form-active');jQuery('.log-in-form').addClass('form-active');});jQuery('.sign-up-link, .switch-sign-up').click(function(){jQuery('.services form').removeClass('form-active');jQuery('.sign-up-form').addClass('form-active');});jQuery('.get-back').click(function(){jQuery('.services form').removeClass('form-active');jQuery('.services-form').addClass('form-active');});jQuery('.lost-password').click(function(){jQuery('.services form').removeClass('form-active');jQuery('.lost-password-form').addClass('form-active');});jQuery('.login a:not(.log-in-main)').click(function(){jQuery('.login a').removeClass('login-hidden');jQuery(this).addClass('login-hidden');});jQuery('.click-to').click(function(){if(jQuery(this).text()=='Click to Sign Up with e-mail'){jQuery(this).text('Hide e-mail form');}else{jQuery(this).text('Click to Sign Up with e-mail');}jQuery('.or-email').toggleClass('or-email-visible');jQuery('.sign-up-form .social-sign-up').toggle();jQuery(this).parent().toggleClass('form-height');});jQuery('.click-to-login').click(function(){if(jQuery(this).text()=='Log In with your e-mail'){jQuery(this).text('Hide e-mail form');}else{jQuery(this).text('Log In with your e-mail');}jQuery('.or-login').toggleClass('or-login-visible');jQuery('.log-in-form .social-sign-up').toggle();});jQuery(window).resize(function(){resizeMe();});jQuery('#no-words').on('keyup',function(e){if(typeof minMaxTimer!='undefined')clearTimeout(minMaxTimer);var val=this.value;window.minMaxTimer=setTimeout(function(){if(parseFloat(val)<200){this.value=200;sweetAlert("Oops...","The minimum allowed order words quantity is 200","error");}}.bind(this),600);});jQuery('.next-step').click(function(){var currentStep=jQuery(this).parent().attr('data-step');var stepNumber=parseInt(currentStep.slice(5,6));if(stepNumber==1){if(!checkForm(jQuery('#service-option'))){sweetAlert("Oops...","You can't continue without completing the form","error");return;}}if(stepNumber==2){if(!checkForm(jQuery('.current-step .insnothide'))){sweetAlert("Oops...","You can't continue without completing the form","error");return;}}if(stepNumber==3){if(!checkForm(jQuery('.current-step .insnot'))){sweetAlert("Oops...","You can't continue without completing the form","error");return;}}jQuery(this).parent().removeClass('current-step');stepNumber=parseInt(stepNumber+1);var nextStepNumber='step-'+stepNumber;var stepSelector='*[data-step="'+nextStepNumber+'"]';jQuery(stepSelector).addClass('current-step');});jQuery('.prev-step').click(function(){jQuery(this).parent().removeClass('current-step');var currentStep=jQuery(this).parent().attr('data-step');var stepNumber=parseInt(currentStep.slice(5,6));stepNumber=parseInt(stepNumber-1);var prevStepNumber='step-'+stepNumber;var stepSelector='*[data-step="'+prevStepNumber+'"]';jQuery(stepSelector).addClass('current-step');});});jQuery('<div class="quantity-nav"><div class="quantity-button quantity-up">+</div><div class="quantity-button quantity-down">-</div></div>').insertAfter('input[type="number"]');jQuery('.quantity').each(function(){var spinner=jQuery(this),input=spinner.find('input[type="number"]'),btnUp=spinner.find('.quantity-up'),btnDown=spinner.find('.quantity-down'),min=input.attr('min'),max=input.attr('max'),step=input.attr('step');btnUp.click(function(){var oldValue=parseFloat(input.val());if(oldValue>=max){var newVal=oldValue;}else{var newVal=oldValue+(1*step);}spinner.find("input[type='number']").val(newVal);spinner.find("input[type='number']").trigger("change");});btnDown.click(function(){var oldValue=parseFloat(input.val());if(oldValue<=min){var newVal=oldValue;}else{var newVal=oldValue-(1*step);}spinner.find("input[type='number']").val(newVal);spinner.find("input[type='number']").trigger("change");});});var multipleSupport=typeof jQuery('<input/>')[0].multiple!=='undefined',isIE=/msie/i.test(navigator.userAgent);jQuery.fn.customFile=function(){return this.each(function(){var $file=jQuery(this).addClass('custom-file-upload-hidden'),$wrap=jQuery('<div class="file-upload-wrapper">'),$input=jQuery('<input type="text" class="file-upload-input" />'),$button=jQuery('<button type="button" class="file-upload-button">Upload file</button>'),$label=jQuery('<label class="file-upload-button" for="'+$file[0].id+'">Select a File</label>');$file.css({position:'absolute',left:'-9999px'});$wrap.insertAfter($file).append((isIE?$label:$button),$file,$input);$file.attr('tabIndex',-1);$button.attr('tabIndex',-1);$button.click(function(){$file.val('');$file.focus().click();});$file.change(function(){var files=[],fileArr,filename;if(multipleSupport){fileArr=$file[0].files;for(var i=0,len=fileArr.length;i<len;i++){files.push(fileArr[i].name);}filename=files.join(', ');}else{filename=$file.val().split('\\').pop();}$input.val(filename).attr('title',filename).focus();});$input.on({blur:function(){$file.trigger('blur');},keydown:function(e){if(e.which===13){if(!isIE){$file.trigger('click');}}else if(e.which===8||e.which===46){$file.replaceWith($file=$file.clone(true));$file.trigger('change');$input.val('');}else if(e.which===9){return;}else{return false;}}});});};if(!multipleSupport){$(document).on('change','input.customfile',function(){var $this=jQuery(this),uniqId='customfile_'+(new Date()).getTime(),$wrap=$this.parent(),$inputs=$wrap.siblings().find('.file-upload-input').filter(function(){return!this.value}),$file=$('<input type="file" id="'+uniqId+'" name="'+$this.attr('name')+'"/>');setTimeout(function(){if($this.val()){if(!$inputs.length){$wrap.after($file);$file.customFile();}}else{$inputs.parent().remove();$wrap.appendTo($wrap.parent());$wrap.find('input').focus();}},1);});}jQuery('input[type=file]').customFile();jQuery('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(event){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=jQuery(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){event.preventDefault();jQuery('html, body').animate({scrollTop:target.offset().top},1000,function(){var $target=jQuery(target);$target.focus();if($target.is(":focus")){return false;}else{$target.attr('tabindex','-1');$target.focus();};});}}});var noArticles;var noWords;var priceWords=0;var serviceOption;var subtotal;jQuery('.quantity-button').click(function(){render_subtotals();});jQuery('.check-delivery, #no-articles, #no-words').change(function(){render_subtotals();});jQuery('#service-option').change(function(){var name=jQuery(this).find('option:selected');jQuery('#price_for_one').val(name.val());renderServices(getServices(name.html()));jQuery('.step.step-3 .insnot').val('');jQuery('.step-2 .insnothide').val('');render_subtotals();if(typeof name.data('pricetype')=="undefined"){jQuery('#services-form textarea').attr('disabled','disabled');}else{jQuery('#services-form textarea').removeAttr('disabled');}jQuery('#services-form').find('input[name=prod_art_name]').val(jQuery('#service-option option:selected').html());});jQuery('#file').change(function(){var ld=jQuery('.file-upload-button').loading();ld.to(10);var files=this.files;var noPass=new Array();var form=document.createElement('form');var data=new FormData(form);var counter=0;var formats=['txt','rtf','doc','docx','pdf','jpg','xlsx','png'];var outofs=[];var upl=[];jQuery.each(files,function(key,value){var type=value.name.slice(value.name.lastIndexOf('.')+1);var size=value.size/1024;if(size>3000){outofs.push(value.name);return true;}if(formats.indexOf(type)>=0){data.append('file-'+counter,value);upl.push(value.name);counter++;}else{noPass.push(value.name);}});if(outofs.length>0){sweetAlert("Oops...",'Size of this files : '+outofs.join(', ')+' is more than allowed (3mb) ',"error");ld.end();}if(noPass.length>0){sweetAlert("Oops...",'This files can`t be uploaded : '+noPass.join(', ')+' because only docx, txt, rtf, pdf, jpg, png, xlsx document formats are allowed.',"error");ld.end();}if(upl.length<=0){ld.end();return;}ld.to(20);data.append('action','upload_photo');jQuery.ajax({url:"/wp-admin/admin-ajax.php",type:'POST',data:data,cache:false,dataType:'json',processData:false,contentType:false,beforeSend:function(){ld.to(40);},success:function(response,stat,jqXHR){ld.to(100);setTimeout(function(){ld.end();},1000);if(Array.isArray(response.errors)){sweetAlert("Oops...",response.errors.join(','),"error")}if(typeof response.files_data!='undefined'&&response.files_data.length>0){showUploadedFiles(response.files_data);sweetAlert("Success","File was successfully uploaded.","success")}}});});function check_field_len(f,l){if(!is(f))return false;l=typeof l=='undefined'?0:l;if(f.value.length<=l){f.classList.add('error');f.onkeyup=function(){check_field_len(f,l);}}else{f.classList.remove('error');}}function fitServices(c){var $form=jQuery('#services-form');$form.removeClass('s1 s2 s3');if(is(c)){c=c>3?3:c;jQuery('#services-form').addClass('s'+c)}}function show_uload_msg(msg){if(typeof msg=='undefined')return;if(typeof uplmTimer!='undefined')clearTimeout(uplmTimer);var m=jQuery('.upload_msg');m.html(msg);window.uplmTimer=setTimeout(function(){m.html('');},3000);}function show_order_msg(msg){if(typeof msg=='undefined')return;if(typeof omsgTimer!='undefined')clearTimeout(omsgTimer);var m=jQuery('.order_msg');m.html(msg);window.omsgTimer=setTimeout(function(){m.html('');},3000);}function initRemoveUploaded(){var $buttons=jQuery('.up_file .remove');$buttons.off('.uplremove');$buttons.on('click.uplremove',function(){var hold=jQuery(this).parents('.up_file');hold.fadeOut(500);setTimeout(function(){hold.remove();addUploadedLinks();},600);});}function addUploadedLinks(){var $buttons=jQuery('.up_file');var links='';var files_obj=[];$buttons.each(function(){var url=this.dataset.href;var typ=this.dataset.type;var nam=jQuery(this).find('span.name').html();links+='<a href="'+url+'">'+nam+'</a><br>';files_obj.push({name:nam,link:url,type:typ});});jQuery('#uploadede_file').val(links);jQuery('#files_obj').val(JSON.stringify(files_obj));}function showUploadedFiles(f){if(Array.isArray(f)){var html=jQuery('.form-columns.up_files').html();var links=jQuery('#uploadede_file').val();var files_obj=jQuery('#files_obj').val();files_obj=files_obj==''?[]:JSON.parse(files_obj);f.forEach(function(a){html+='<div class="up_file" data-href="'+a.url+'" data-type="'+a.format.slice(1)+'" > '+'<span class="remove"></span> '+'<span class="logo '+a.format.slice(1)+'"></span> '+'<span class="name">'+a.name+'</span> '+'</div>';links+='<a href="'+a.url+'">'+a.name+'</a><br>';files_obj.push({name:a.name,link:a.url,type:a.format.slice(1)});});jQuery('.form-columns.up_files').html(html);jQuery('#uploadede_file').val(links);jQuery('#files_obj').val(JSON.stringify(files_obj));initRemoveUploaded();}}function render_subtotals(){noArticles=jQuery('#no-articles').val();noWords=jQuery('#no-words').val();serviceOption=jQuery('#service-option option:selected');price=jQuery('#service-option').val();if(serviceOption.data('notes')=="1"){jQuery('.step.step-3 .insnot').addClass('notices');jQuery('.step.step-3 .insnot + span').html('Notices');jQuery('.step-2 .insnothide').css('visibility','hidden');jQuery('.step-2 .quantity-nav').parents('.form-columns').addClass('notices');jQuery('.label.label-articles').html('No. Of Items:');jQuery('.step-2.step').on('click.refocus',function(e){if(e.target==this){jQuery('.insnot.notices').focus();}});jQuery('#prod_type').val('1');}else{jQuery('.step-2.step').off('.refocus');jQuery('.step.step-3 .insnot').removeClass('notices');jQuery('.step.step-3 .insnot + span').html('Instructions');jQuery('.step-2 .insnothide').css('visibility','visible');jQuery('.step-2 .quantity-nav').parents('.form-columns').removeClass('notices');jQuery('.label.label-articles').html('notices');jQuery('.label.label-articles').html('No. of Articles:');jQuery('#prod_type').val('0');}if(serviceOption.data('pricetype')=="1"){priceWords=((noArticles*noWords)/100)*price;jQuery('#per_word').val('1');}else{priceWords=noArticles*price;jQuery('#per_word').val('0');}subtotal=priceWords;jQuery('.delivery .check-delivery').each(function(){if(this.checked){if(this.dataset.pricetype==1){subtotal+=(parseFloat(this.dataset.price)*((noArticles*noWords)/100));}else{subtotal+=(noArticles*parseFloat(this.dataset.price));}}});jQuery('.product-name b').text(serviceOption.html());jQuery('.product-name i').text(noArticles);jQuery('.product-price').text('$'+priceWords.toFixed(2));jQuery('.subtotal-price').text('$'+subtotal.toFixed(2));jQuery('#total-price').val(subtotal.toFixed(2));jQuery('.total-price').text('$'+subtotal.toFixed(2));}function SetServices(){var form=jQuery('#services-form');var serv={};form.find('.delivery input').each(function(){var that=jQuery(this);var lab=that.parents('label');var s=lab.data('id');var tool=lab.find('.tooltip .msgtool');tool=tool.size()>0?tool.html():'';if(is(s)){serv[s]={val:that.data('price'),type:that.data('pricetype'),checked:false,name:s,tool:tool};}if(this.checked)serv[s].checked=true;});form.find('#prod_services').val(JSON.stringify(serv));}function is(a){return typeof a!='undefined'&&a!=''&&a!=null;}function getServices(n){if(is(n)&&Array.isArray(Products)){var res=[];Products.forEach(function(e){if(e.name.replace(/\s+/g,'').toLowerCase()==n.replace(/\s+/g,'').toLowerCase()&&is(e.services)){res=e.services;return false;}});return res;}return[];}function getProduct(n){if(is(n)&&Array.isArray(Products)){var res=[];Products.forEach(function(e){if(e.name==n){res=e;return false;}});return res;}return 0;}function renderServices(n){if(Array.isArray(n)){var html='';n.forEach(function(e){var prod=getProduct(e);var tool=prod.istooltip?'<span class="tooltip">why?<span class="msgtool">'+prod.tooltipmsg+'</span></span>':'';html+='<div class="delivery"> '+'<label data-id="'+e+'" >'+'<input type="checkbox" data-price="'+prod.val+'" data-pricetype="'+prod.price_type+'" class="check-delivery" name="service-delivery">'+e+tool+'</label> '+'</div>';});jQuery('.step-2.step .prod-services').html(html);jQuery('.check-delivery').change(function(){render_subtotals();SetServices();});fitServices(n.length);}}function checkForm(e){if(typeof e!='undefined'&&e.size()>0){var pass=true;e.each(function(){var that=jQuery(this);that.removeClass('empty');if(!that.is(':visible')||that.css('visibility')=='hidden'||this.type=="file")return true;if(this.value.length<=0||this.value==0){that.addClass('empty');this.onkeyup=function(){checkForm(e);};this.onchange=function(){checkForm(e);};pass=false;}else{that.removeClass('empty');this.onkeyup=function(){};this.onchange=function(){};}});return pass;}return true;}